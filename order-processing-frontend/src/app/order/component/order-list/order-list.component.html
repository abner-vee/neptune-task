<h2>Orders</h2>
<table class="orders-table">
  <thead>
  <tr>
    <th>S/N</th>
    <th>Product</th>
    <th>Quantity</th>
    <th>Status</th>
    <th>Actions</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let order of orders; let i = index">
    <td>{{ i + 1 }}</td>
    <td>{{ order.name }}</td> <td>{{ order.quantity }}</td>
    <td>{{ order.status }}</td>
    <td class="actions-cell">
      <button class="view-btn" (click)="openViewModal(order)">View</button>
      <button class="delete-btn" (click)="openDeleteConfirmModal(order.name, order.id)">Delete</button>
    </td>
  </tr>
  </tbody>
</table>

<div class="modal-overlay" *ngIf="showViewModal">
  <div class="modal-content">
    <div class="modal-header">
      <h3>Product Details: {{ selectedOrder?.name }}</h3>
      <button class="close-btn" (click)="closeViewModal()">X</button>
    </div>
    <div class="modal-body">
      <p><strong>Product:</strong> {{ selectedOrder?.name }}</p>
      <p><strong>Quantity:</strong> {{ selectedOrder?.quantity }}</p>
      <p><strong>Status:</strong> {{ selectedOrder?.status }}</p>
      <p *ngIf="selectedOrder?.id"><strong>Order ID:</strong> {{ selectedOrder?.id }}</p>
    </div>
    <div class="modal-footer">
      <button class="view-btn" (click)="closeViewModal()">Close</button>
    </div>
  </div>
</div>

<div class="modal-overlay" *ngIf="showDeleteConfirmModal">
  <div class="modal-content delete-modal">
    <div class="modal-header">
      <h3>Confirm Deletion</h3>
      <button class="close-btn" (click)="closeDeleteConfirmModal()">X</button>
    </div>
    <div class="modal-body">
      <p>Are you sure you want to delete the product: <strong>{{ productToDeleteName }}</strong>?</p>
      <p>This action cannot be undone.</p>
    </div>
    <div class="modal-footer">
      <button class="cancel-btn" (click)="closeDeleteConfirmModal()">Cancel</button>
      <button class="delete-btn" (click)="confirmDelete()">Delete</button>
    </div>
  </div>
</div>
